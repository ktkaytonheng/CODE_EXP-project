{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\zhenw\\\\Desktop\\\\CODEXP\\\\CODE_EXP-project\\\\screens\\\\EventsScreen.js\";\nimport React, { useEffect, useState } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport { Ionicons } from \"@expo/vector-icons\";\nimport firebase from \"../database/firebaseDB\";\nvar db = firebase.firestore().collection(\"shopInfo\");\nexport default function EventsScreen(_ref) {\n  var navigation = _ref.navigation,\n      route = _ref.route;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      shopInfo = _useState2[0],\n      setShopInfo = _useState2[1];\n\n  useEffect(function () {\n    var unsubscribe = firebase.firestore().collection(\"shopInfo\").onSnapshot(function (collection) {\n      var updatedShopInfo = collection.docs.map(function (doc) {\n        return doc.data();\n      });\n      setShopInfo(updatedShopInfo);\n    });\n    return function () {\n      unsubscribe();\n    };\n  }, []);\n\n  function addNote() {\n    navigation.navigate(\"Add Screen\");\n  }\n\n  function deleteNote(id) {\n    console.log(\"Deleting \" + id);\n    db.firestore().collection(shopInfo).where('id', '==', id).get().then(function (querySnapshot) {\n      querySnapshot.forEach(function (doc) {\n        return doc.ref.delete();\n      });\n    });\n  }\n\n  function renderItem(_ref2) {\n    var item = _ref2.item;\n    return React.createElement(View, {\n      style: {\n        padding: 10,\n        paddingTop: 20,\n        paddingBottom: 20,\n        borderBottomColor: \"#ccc\",\n        borderBottomWidth: 1,\n        flexDirection: \"row\",\n        justifyContent: \"space-between\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 7\n      }\n    }, React.createElement(Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }\n    }, item.shopName), React.createElement(Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }\n    }, item.shopLocation), React.createElement(Image, {\n      source: {\n        uri: item.shopMenu\n      },\n      style: styles.listImage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }\n    }), React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        return deleteNote(item.id);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }\n    }, React.createElement(Ionicons, {\n      name: \"trash\",\n      size: 16,\n      color: \"#944\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }\n    })));\n  }\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    }\n  }, React.createElement(FlatList, {\n    data: shopInfo,\n    renderItem: renderItem,\n    style: {\n      width: \"100%\"\n    },\n    keyExtractor: function keyExtractor(item) {\n      return item.id.toString();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#ffc\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  listImage: {\n    width: 50,\n    height: 50\n  }\n});","map":{"version":3,"sources":["C:/Users/zhenw/Desktop/CODEXP/CODE_EXP-project/screens/EventsScreen.js"],"names":["React","useEffect","useState","Ionicons","firebase","db","firestore","collection","EventsScreen","navigation","route","shopInfo","setShopInfo","unsubscribe","onSnapshot","updatedShopInfo","docs","map","doc","data","addNote","navigate","deleteNote","id","console","log","where","get","then","querySnapshot","forEach","ref","delete","renderItem","item","padding","paddingTop","paddingBottom","borderBottomColor","borderBottomWidth","flexDirection","justifyContent","shopName","shopLocation","uri","shopMenu","styles","listImage","container","width","toString","StyleSheet","create","flex","backgroundColor","alignItems","height"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  StyleSheet,\r\n  Text,\r\n  View,\r\n  TouchableOpacity,\r\n  FlatList,\r\n  Image,\r\n  Button,\r\n} from \"react-native\";\r\nimport { Ionicons } from \"@expo/vector-icons\";\r\nimport firebase from \"../database/firebaseDB\";\r\n\r\nconst db = firebase.firestore().collection(\"shopInfo\");\r\n\r\nexport default function EventsScreen({ navigation, route }) {\r\n  const [shopInfo, setShopInfo] = useState([]);\r\n\r\n  // This is to set up the firebase\r\n  useEffect(() => {\r\n    const unsubscribe = firebase\r\n      .firestore()\r\n      .collection(\"shopInfo\")\r\n      .onSnapshot((collection) => {\r\n        const updatedShopInfo = collection.docs.map((doc) => doc.data());\r\n        setShopInfo(updatedShopInfo);\r\n      })\r\n\r\n      return () => {\r\n        unsubscribe();\r\n      }\r\n  }, []);\r\n\r\n  function addNote() {\r\n    navigation.navigate(\"Add Screen\");\r\n  }\r\n\r\n  // This deletes an individual note\r\n  function deleteNote(id) {\r\n    console.log(\"Deleting \" + id);\r\n    // To delete that item, we filter out the item we don't want\r\n    db\r\n      .firestore()\r\n      .collection(shopInfo)\r\n      .where('id', '==', id)\r\n      .get()\r\n      .then((querySnapshot) => {\r\n        querySnapshot.forEach((doc) => doc.ref.delete());\r\n      });\r\n  }\r\n\r\n  // The function to render each row in our FlatList\r\n  function renderItem({ item }) {\r\n    return (\r\n      <View\r\n        style={{\r\n          padding: 10,\r\n          paddingTop: 20,\r\n          paddingBottom: 20,\r\n          borderBottomColor: \"#ccc\",\r\n          borderBottomWidth: 1,\r\n          flexDirection: \"row\",\r\n          justifyContent: \"space-between\",\r\n        }}\r\n      >\r\n        <Text>{item.shopName}</Text>\r\n        <Text>{item.shopLocation}</Text>\r\n        <Image \r\n          source={{uri:item.shopMenu}}\r\n          style={styles.listImage}\r\n        />\r\n        <TouchableOpacity onPress={() => deleteNote(item.id)}>\r\n          <Ionicons name=\"trash\" size={16} color=\"#944\" />\r\n        </TouchableOpacity>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <FlatList\r\n        data={shopInfo}\r\n        renderItem={renderItem}\r\n        style={{ width: \"100%\" }}\r\n        keyExtractor={(item) => item.id.toString()}\r\n      />\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: \"#ffc\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  listImage: {\r\n    width: 50,\r\n    height: 50,\r\n  }\r\n});"]},"metadata":{},"sourceType":"module"}